{"ast":null,"code":"import React,{useEffect,Fragment}from'react';import{connect}from'react-redux';import{getAllProfiles}from'../../actions/profile';var SearchBar=function SearchBar(_ref){var getAllProfiles=_ref.getAllProfiles,profiles=_ref.profiles;useEffect(function(){getAllProfiles();document.getElementById('searchBar').value='';},[getAllProfiles]);var matchList=document.getElementById('card');var matches=[];var handleChange=function handleChange(e){if(e.length===0){matches=[];matchList.innerHTML='';}var profileList=profiles.map(function(profile){if(profile.user!==null){return profile.user;}});profileList=profileList.filter(function(list){return list!==undefined;});if(e!==''){// Get matches to current text input\nmatches=profileList.filter(function(profile){var regex=new RegExp(\"^\".concat(e),'gi');if(profile.name.match(regex)){return profile;}});if(matches.length>0){document.getElementById('card').style.borderWidth='1px';}// console.log(matches);\ndisplay_result(matches);}else{document.getElementById('card').style.borderWidth='0px';}};var display_result=function display_result(matches){if(matches.length>0){console.log(matches);var html=matches.map(function(match){return\"<div style=\\\"display:flex; margin-bottom:1rem\\\">\\n            <div>\\n            <a href=\\\"/profile/\".concat(match._id,\"\\\"><span><img style=\\\"margin-left: 2rem; border-radius:50%;  width: 30;\\n            height: 30; \\\" src=\\\"\").concat(match.avatar,\"\\\" alt=\\\"Profile Photo\\\" width=\\\"40\\\" height=\\\"40\\\"></span></a>\\n            </div>\\n            <div style=\\\"padding-top: 0.6rem; padding-left:1rem\\\">\\n            <a href=\\\"/profile/\").concat(match._id,\"\\\"><span>\").concat(match.name,\"</span></a>\\n            </div>\\n            </div>\");}).join('');matchList.innerHTML=html;}};return/*#__PURE__*/React.createElement(\"div\",{id:\"searchWrapper\"},/*#__PURE__*/React.createElement(\"div\",{class:\"input-icons\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-search icon\"}),/*#__PURE__*/React.createElement(\"input\",{id:\"searchBar\",type:\"text\",placeholder:\"Search\",onChange:function onChange(e){return handleChange(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"centerDiv\"},/*#__PURE__*/React.createElement(\"div\",{id:\"card\"})));};var mapStateToProps=function mapStateToProps(state){return{profiles:state.profile.profiles};};export default connect(mapStateToProps,{getAllProfiles:getAllProfiles})(SearchBar);","map":{"version":3,"sources":["/home/shubham/Desktop/Socialmedia_MERN/client/src/components/searchbar/SearchBar.js"],"names":["React","useEffect","Fragment","connect","getAllProfiles","SearchBar","profiles","document","getElementById","value","matchList","matches","handleChange","e","length","innerHTML","profileList","map","profile","user","filter","list","undefined","regex","RegExp","name","match","style","borderWidth","display_result","console","log","html","_id","avatar","join","target","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useEffect, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { getAllProfiles } from '../../actions/profile';\n\nconst SearchBar = ({ getAllProfiles, profiles }) => {\n  useEffect(() => {\n    getAllProfiles();\n    document.getElementById('searchBar').value = '';\n  }, [getAllProfiles]);\n\n  const matchList = document.getElementById('card');\n\n  let matches = [];\n\n  const handleChange = (e) => {\n    if (e.length === 0) {\n      matches = [];\n      matchList.innerHTML = '';\n    }\n\n    let profileList = profiles.map((profile) => {\n      if (profile.user !== null) {\n        return profile.user;\n      }\n    });\n\n    profileList = profileList.filter((list) => list !== undefined);\n\n    if (e !== '') {\n      // Get matches to current text input\n      matches = profileList.filter((profile) => {\n        const regex = new RegExp(`^${e}`, 'gi');\n        if (profile.name.match(regex)) {\n          return profile;\n        }\n      });\n\n      if (matches.length > 0) {\n        document.getElementById('card').style.borderWidth = '1px';\n      }\n\n      // console.log(matches);\n\n      display_result(matches);\n    } else {\n      document.getElementById('card').style.borderWidth = '0px';\n    }\n  };\n\n  const display_result = (matches) => {\n    if (matches.length > 0) {\n      console.log(matches);\n      const html = matches\n        .map(\n          (match) =>\n            `<div style=\"display:flex; margin-bottom:1rem\">\n            <div>\n            <a href=\"/profile/${match._id}\"><span><img style=\"margin-left: 2rem; border-radius:50%;  width: 30;\n            height: 30; \" src=\"${match.avatar}\" alt=\"Profile Photo\" width=\"40\" height=\"40\"></span></a>\n            </div>\n            <div style=\"padding-top: 0.6rem; padding-left:1rem\">\n            <a href=\"/profile/${match._id}\"><span>${match.name}</span></a>\n            </div>\n            </div>`\n        )\n        .join('');\n\n      matchList.innerHTML = html;\n    }\n  };\n\n  return (\n    <div id='searchWrapper'>\n      <div class='input-icons'>\n        <i className='fas fa-search icon' />\n        <input\n          id='searchBar'\n          type='text'\n          placeholder='Search'\n          onChange={(e) => handleChange(e.target.value)}\n        />\n      </div>\n      <div className='centerDiv'>\n        <div id='card'></div>\n      </div>\n    </div>\n  );\n};\n\nSearchBar.propTypes = {\n  profiles: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  profiles: state.profile.profiles,\n});\n\nexport default connect(mapStateToProps, { getAllProfiles })(SearchBar);\n"]},"metadata":{},"sourceType":"module"}
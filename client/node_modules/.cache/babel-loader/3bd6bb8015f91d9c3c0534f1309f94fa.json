{"ast":null,"code":"import _toConsumableArray from\"/home/shubham/Desktop/Socialmedia_MERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/shubham/Desktop/Socialmedia_MERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{GET_POSTS,POST_ERROR,UPDATE_LIKES,UPDATE_DISLIKES,DELETE_POST,ADD_POST,GET_POST,ADD_COMMENT,REMOVE_COMMENT,GET_CURRENT_USER_POSTS}from'../actions/types';var initialState={posts:[],post:null,loading:true,error:{}};export default function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case GET_CURRENT_USER_POSTS:case GET_POSTS:return _objectSpread(_objectSpread({},state),{},{posts:action.payload,loading:false});case ADD_COMMENT:return _objectSpread(_objectSpread({},state),{},{post:_objectSpread(_objectSpread({},state.post),{},{comments:action.payload}),loading:false});case REMOVE_COMMENT:return _objectSpread(_objectSpread({},state),{},{post:_objectSpread(_objectSpread({},state.post),{},{comments:state.post.comments.filter(function(comment){return comment._id!==action.payload;})}),loading:false});case GET_POST:return _objectSpread(_objectSpread({},state),{},{post:action.payload,loading:false});case ADD_POST:return _objectSpread(_objectSpread({},state),{},{posts:[action.payload].concat(_toConsumableArray(state.posts)),loading:false});case DELETE_POST:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.filter(function(post){return post._id!==action.payload;}),loading:false});case POST_ERROR:return _objectSpread(_objectSpread({},state),{},{error:action.payload,loading:false});case UPDATE_LIKES:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.map(function(post){return post._id===action.payload.postId?_objectSpread(_objectSpread({},post),{},{likes:action.payload.data.likes,dislikes:action.payload.data.dislikes}):post;}),loading:false});case UPDATE_DISLIKES:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.map(function(post){return post._id===action.payload.postId?_objectSpread(_objectSpread({},post),{},{likes:action.payload.data.likes,dislikes:action.payload.data.dislikes}):post;}),loading:false});default:return state;}}","map":{"version":3,"sources":["/home/shubham/Desktop/Socialmedia_MERN/client/src/reducers/post.js"],"names":["GET_POSTS","POST_ERROR","UPDATE_LIKES","UPDATE_DISLIKES","DELETE_POST","ADD_POST","GET_POST","ADD_COMMENT","REMOVE_COMMENT","GET_CURRENT_USER_POSTS","initialState","posts","post","loading","error","state","action","type","payload","comments","filter","comment","_id","map","postId","likes","data","dislikes"],"mappings":"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","sourcesContent":["import {\n  GET_POSTS,\n  POST_ERROR,\n  UPDATE_LIKES,\n  UPDATE_DISLIKES,\n  DELETE_POST,\n  ADD_POST,\n  GET_POST,\n  ADD_COMMENT,\n  REMOVE_COMMENT,\n  GET_CURRENT_USER_POSTS,\n} from '../actions/types';\n\nconst initialState = {\n  posts: [],\n  post: null,\n  loading: true,\n  error: {},\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case GET_CURRENT_USER_POSTS:\n    case GET_POSTS:\n      return {\n        ...state,\n        posts: action.payload,\n        loading: false,\n      };\n\n    case ADD_COMMENT:\n      return {\n        ...state,\n        post: { ...state.post, comments: action.payload },\n        loading: false,\n      };\n\n    case REMOVE_COMMENT:\n      return {\n        ...state,\n        post: {\n          ...state.post,\n          comments: state.post.comments.filter(\n            (comment) => comment._id !== action.payload\n          ),\n        },\n        loading: false,\n      };\n\n    case GET_POST:\n      return {\n        ...state,\n        post: action.payload,\n        loading: false,\n      };\n\n    case ADD_POST:\n      return {\n        ...state,\n        posts: [action.payload, ...state.posts],\n        loading: false,\n      };\n\n    case DELETE_POST:\n      return {\n        ...state,\n        posts: state.posts.filter((post) => post._id !== action.payload),\n        loading: false,\n      };\n\n    case POST_ERROR:\n      return {\n        ...state,\n        error: action.payload,\n        loading: false,\n      };\n\n    case UPDATE_LIKES:\n      return {\n        ...state,\n        posts: state.posts.map((post) =>\n          post._id === action.payload.postId\n            ? {\n                ...post,\n                likes: action.payload.data.likes,\n                dislikes: action.payload.data.dislikes,\n              }\n            : post\n        ),\n        loading: false,\n      };\n\n    case UPDATE_DISLIKES:\n      return {\n        ...state,\n        posts: state.posts.map((post) =>\n          post._id === action.payload.postId\n            ? {\n                ...post,\n                likes: action.payload.data.likes,\n                dislikes: action.payload.data.dislikes,\n              }\n            : post\n        ),\n        loading: false,\n      };\n\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
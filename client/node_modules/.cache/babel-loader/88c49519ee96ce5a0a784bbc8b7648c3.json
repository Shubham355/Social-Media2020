{"ast":null,"code":"import _regeneratorRuntime from\"/home/shubham/Desktop/Socialmedia_MERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/shubham/Desktop/Socialmedia_MERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';// import { setAlert } from './alert';\nimport{GET_POSTS,POST_ERROR,UPDATE_LIKES,UPDATE_DISLIKES,DELETE_POST,ADD_POST,GET_POST,ADD_COMMENT,REMOVE_COMMENT,GET_CURRENT_USER_POSTS}from'../actions/types';import swal from'sweetalert';// Get current user all posts\nexport var getCurrentUserAllPosts=function getCurrentUserAllPosts(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/api/posts/user/me');case 3:res=_context.sent;dispatch({type:GET_CURRENT_USER_POSTS,payload:res.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:POST_ERROR,payload:{msg:_context.t0.response.statusText,status:_context.t0.response.status}});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x){return _ref.apply(this,arguments);};}();};// Get all the posts of a particular user\nexport var getParticularUserAllPosts=function getParticularUserAllPosts(userId){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"/api/posts/user/\".concat(userId));case 3:res=_context2.sent;dispatch({type:GET_POSTS,payload:res.data});_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);dispatch({type:POST_ERROR,payload:{msg:_context2.t0.response.statusText,status:_context2.t0.response.status}});case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};// Get all posts\nexport var getPosts=function getPosts(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get('/api/posts');case 3:res=_context3.sent;dispatch({type:GET_POSTS,payload:res.data});_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);dispatch({type:POST_ERROR,payload:{msg:_context3.t0.response.statusText,status:_context3.t0.response.status}});case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};// Add like\nexport var addLike=function addLike(postId){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.put(\"/api/posts/like/\".concat(postId));case 3:res=_context4.sent;dispatch({type:UPDATE_LIKES,payload:{postId:postId,data:res.data}});_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);// const errors = err.response.data.errors;\n// if (errors) {\n//   errors.forEach((error) => dispatch(setAlert(error.msg, 'danger')));\n// }\n// swal({ title: 'Post already liked', icon: 'warning' });\ndispatch({type:POST_ERROR,payload:{msg:_context4.t0.response.statusText,status:_context4.t0.response.status}});case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};// Remove like\nexport var removeLike=function removeLike(postId){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var res;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return axios.put(\"/api/posts/removelike/\".concat(postId));case 3:res=_context5.sent;dispatch({type:UPDATE_LIKES,payload:{postId:postId,data:res.data}});_context5.next=10;break;case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](0);// const errors = err.response.data.errors;\ndispatch({type:POST_ERROR,payload:{msg:_context5.t0.response.statusText,status:_context5.t0.response.status}});case 10:case\"end\":return _context5.stop();}}},_callee5,null,[[0,7]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};// Dislike\nexport var dislike=function dislike(postId){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){var res;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return axios.put(\"/api/posts/dislike/\".concat(postId));case 3:res=_context6.sent;dispatch({type:UPDATE_DISLIKES,payload:{postId:postId,data:res.data}});_context6.next=10;break;case 7:_context6.prev=7;_context6.t0=_context6[\"catch\"](0);// const errors = err.response.data.errors;\n// if (errors) {\n//   errors.forEach((error) => dispatch(setAlert(error.msg, 'danger')));\n// }\n// swal({ title: 'Post already disliked', icon: 'warning' });\ndispatch({type:POST_ERROR,payload:{msg:_context6.t0.response.statusText,status:_context6.t0.response.status}});case 10:case\"end\":return _context6.stop();}}},_callee6,null,[[0,7]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();};// Remove Dislike\nexport var removeDislike=function removeDislike(postId){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){var res;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return axios.put(\"/api/posts/removedislike/\".concat(postId));case 3:res=_context7.sent;dispatch({type:UPDATE_DISLIKES,payload:{postId:postId,data:res.data}});_context7.next=10;break;case 7:_context7.prev=7;_context7.t0=_context7[\"catch\"](0);// const errors = err.response.data.errors;\ndispatch({type:POST_ERROR,payload:{msg:_context7.t0.response.statusText,status:_context7.t0.response.status}});case 10:case\"end\":return _context7.stop();}}},_callee7,null,[[0,7]]);}));return function(_x7){return _ref7.apply(this,arguments);};}();};// Delete post\nexport var deletePost=function deletePost(postId){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){var errors;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return axios.delete(\"/api/posts/\".concat(postId));case 3:dispatch({type:DELETE_POST,payload:postId});swal({title:'Post Removed',icon:'success'});_context8.next=12;break;case 7:_context8.prev=7;_context8.t0=_context8[\"catch\"](0);errors=_context8.t0.response.data.errors;if(errors){errors.forEach(function(error){return swal({title:error.msg,icon:'error'});});// errors.forEach((error) => dispatch(setAlert(error.msg, 'danger')));\n}dispatch({type:POST_ERROR,payload:{msg:_context8.t0.response.statusText,status:_context8.t0.response.status}});case 12:case\"end\":return _context8.stop();}}},_callee8,null,[[0,7]]);}));return function(_x8){return _ref8.apply(this,arguments);};}();};// Add Post\nexport var addPost=function addPost(formData){return/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(dispatch){var config,res;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;config={headers:{'Content-Type':'application/json'}};_context9.next=4;return axios.post('/api/posts',formData,config);case 4:res=_context9.sent;dispatch({type:ADD_POST,payload:res.data});swal({title:'Post Created',icon:'success'});_context9.next=12;break;case 9:_context9.prev=9;_context9.t0=_context9[\"catch\"](0);dispatch({type:POST_ERROR,payload:{msg:_context9.t0.response.statusText,status:_context9.t0.response.status}});case 12:case\"end\":return _context9.stop();}}},_callee9,null,[[0,9]]);}));return function(_x9){return _ref9.apply(this,arguments);};}();};// Get post by id\nexport var getPost=function getPost(postId){return/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(dispatch){var res;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.prev=0;_context10.next=3;return axios.get(\"/api/posts/\".concat(postId));case 3:res=_context10.sent;dispatch({type:GET_POST,payload:res.data});_context10.next=10;break;case 7:_context10.prev=7;_context10.t0=_context10[\"catch\"](0);dispatch({type:POST_ERROR,payload:{msg:_context10.t0.response.statusText,status:_context10.t0.response.status}});case 10:case\"end\":return _context10.stop();}}},_callee10,null,[[0,7]]);}));return function(_x10){return _ref10.apply(this,arguments);};}();};// Add Comment\nexport var addComment=function addComment(postId,formData){return/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(dispatch){var config,res;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.prev=0;config={headers:{'Content-Type':'application/json'}};_context11.next=4;return axios.post(\"/api/posts/comment/\".concat(postId),formData,config);case 4:res=_context11.sent;dispatch({type:ADD_COMMENT,payload:res.data});swal({title:'Comment Added',icon:'success'});_context11.next=12;break;case 9:_context11.prev=9;_context11.t0=_context11[\"catch\"](0);dispatch({type:POST_ERROR,payload:{msg:_context11.t0.response.statusText,status:_context11.t0.response.status}});case 12:case\"end\":return _context11.stop();}}},_callee11,null,[[0,9]]);}));return function(_x11){return _ref11.apply(this,arguments);};}();};// Delete comment\nexport var deleteComment=function deleteComment(postId,commentId){return/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(dispatch){return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.prev=0;_context12.next=3;return axios.delete(\"/api/posts/comment/\".concat(postId,\"/\").concat(commentId));case 3:dispatch({type:REMOVE_COMMENT,payload:commentId});swal({title:'Comment Removed',icon:'success'});_context12.next=10;break;case 7:_context12.prev=7;_context12.t0=_context12[\"catch\"](0);dispatch({type:POST_ERROR,payload:{msg:_context12.t0.response.statusText,status:_context12.t0.response.status}});case 10:case\"end\":return _context12.stop();}}},_callee12,null,[[0,7]]);}));return function(_x12){return _ref12.apply(this,arguments);};}();};","map":{"version":3,"sources":["/home/shubham/Desktop/Socialmedia_MERN/client/src/actions/post.js"],"names":["axios","GET_POSTS","POST_ERROR","UPDATE_LIKES","UPDATE_DISLIKES","DELETE_POST","ADD_POST","GET_POST","ADD_COMMENT","REMOVE_COMMENT","GET_CURRENT_USER_POSTS","swal","getCurrentUserAllPosts","dispatch","get","res","type","payload","data","msg","response","statusText","status","getParticularUserAllPosts","userId","getPosts","addLike","postId","put","removeLike","dislike","removeDislike","deletePost","delete","title","icon","errors","forEach","error","addPost","formData","config","headers","post","getPost","addComment","deleteComment","commentId"],"mappings":"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","sourcesContent":["import axios from 'axios';\n// import { setAlert } from './alert';\nimport {\n  GET_POSTS,\n  POST_ERROR,\n  UPDATE_LIKES,\n  UPDATE_DISLIKES,\n  DELETE_POST,\n  ADD_POST,\n  GET_POST,\n  ADD_COMMENT,\n  REMOVE_COMMENT,\n  GET_CURRENT_USER_POSTS,\n} from '../actions/types';\nimport swal from 'sweetalert';\n\n// Get current user all posts\nexport const getCurrentUserAllPosts = () => async (dispatch) => {\n  try {\n    const res = await axios.get('/api/posts/user/me');\n\n    dispatch({\n      type: GET_CURRENT_USER_POSTS,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: POST_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// Get all the posts of a particular user\nexport const getParticularUserAllPosts = (userId) => async (dispatch) => {\n  try {\n    const res = await axios.get(`/api/posts/user/${userId}`);\n\n    dispatch({\n      type: GET_POSTS,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: POST_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// Get all posts\nexport const getPosts = () => async (dispatch) => {\n  try {\n    const res = await axios.get('/api/posts');\n\n    dispatch({\n      type: GET_POSTS,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: POST_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// Add like\nexport const addLike = (postId) => async (dispatch) => {\n  try {\n    const res = await axios.put(`/api/posts/like/${postId}`);\n\n    dispatch({\n      type: UPDATE_LIKES,\n      payload: { postId, data: res.data },\n    });\n  } catch (err) {\n    // const errors = err.response.data.errors;\n\n    // if (errors) {\n    //   errors.forEach((error) => dispatch(setAlert(error.msg, 'danger')));\n    // }\n\n    // swal({ title: 'Post already liked', icon: 'warning' });\n\n    dispatch({\n      type: POST_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// Remove like\nexport const removeLike = (postId) => async (dispatch) => {\n  try {\n    const res = await axios.put(`/api/posts/removelike/${postId}`);\n\n    dispatch({\n      type: UPDATE_LIKES,\n      payload: { postId, data: res.data },\n    });\n  } catch (err) {\n    // const errors = err.response.data.errors;\n\n    dispatch({\n      type: POST_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// Dislike\nexport const dislike = (postId) => async (dispatch) => {\n  try {\n    const res = await axios.put(`/api/posts/dislike/${postId}`);\n\n    dispatch({\n      type: UPDATE_DISLIKES,\n      payload: { postId, data: res.data },\n    });\n  } catch (err) {\n    // const errors = err.response.data.errors;\n\n    // if (errors) {\n    //   errors.forEach((error) => dispatch(setAlert(error.msg, 'danger')));\n    // }\n\n    // swal({ title: 'Post already disliked', icon: 'warning' });\n\n    dispatch({\n      type: POST_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// Remove Dislike\nexport const removeDislike = (postId) => async (dispatch) => {\n  try {\n    const res = await axios.put(`/api/posts/removedislike/${postId}`);\n\n    dispatch({\n      type: UPDATE_DISLIKES,\n      payload: { postId, data: res.data },\n    });\n  } catch (err) {\n    // const errors = err.response.data.errors;\n\n    dispatch({\n      type: POST_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// Delete post\nexport const deletePost = (postId) => async (dispatch) => {\n  try {\n    await axios.delete(`/api/posts/${postId}`);\n\n    dispatch({\n      type: DELETE_POST,\n      payload: postId,\n    });\n\n    swal({ title: 'Post Removed', icon: 'success' });\n  } catch (err) {\n    const errors = err.response.data.errors;\n\n    if (errors) {\n      errors.forEach((error) => swal({ title: error.msg, icon: 'error' }));\n      // errors.forEach((error) => dispatch(setAlert(error.msg, 'danger')));\n    }\n\n    dispatch({\n      type: POST_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// Add Post\nexport const addPost = (formData) => async (dispatch) => {\n  try {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    };\n\n    const res = await axios.post('/api/posts', formData, config);\n\n    dispatch({\n      type: ADD_POST,\n      payload: res.data,\n    });\n\n    swal({ title: 'Post Created', icon: 'success' });\n  } catch (err) {\n    dispatch({\n      type: POST_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// Get post by id\nexport const getPost = (postId) => async (dispatch) => {\n  try {\n    const res = await axios.get(`/api/posts/${postId}`);\n\n    dispatch({\n      type: GET_POST,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: POST_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// Add Comment\nexport const addComment = (postId, formData) => async (dispatch) => {\n  try {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    };\n\n    const res = await axios.post(\n      `/api/posts/comment/${postId}`,\n      formData,\n      config\n    );\n\n    dispatch({\n      type: ADD_COMMENT,\n      payload: res.data,\n    });\n\n    swal({ title: 'Comment Added', icon: 'success' });\n  } catch (err) {\n    dispatch({\n      type: POST_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// Delete comment\nexport const deleteComment = (postId, commentId) => async (dispatch) => {\n  try {\n    await axios.delete(`/api/posts/comment/${postId}/${commentId}`);\n\n    dispatch({\n      type: REMOVE_COMMENT,\n      payload: commentId,\n    });\n\n    swal({ title: 'Comment Removed', icon: 'success' });\n  } catch (err) {\n    dispatch({\n      type: POST_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}
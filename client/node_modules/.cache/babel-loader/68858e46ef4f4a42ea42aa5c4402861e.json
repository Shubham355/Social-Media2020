{"ast":null,"code":"import _regeneratorRuntime from\"/home/shubham/Desktop/Socialmedia_MERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/shubham/Desktop/Socialmedia_MERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/shubham/Desktop/Socialmedia_MERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,Fragment}from'react';import{Link,withRouter}from'react-router-dom';import ProfileData from'./ProfileData';import Spinner from'../layout/Spinner';import ProfileNotFound from'./ProfileNotFound';import axios from'axios';var IndividualProfile=function IndividualProfile(_ref){var match=_ref.match,history=_ref.history;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),profile=_useState2[0],setProfile=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),posts=_useState8[0],setPosts=_useState8[1];var getProfileByID=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(userID){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/api/profile/user/\".concat(userID));case 3:res=_context.sent;setLoading(false);setProfile(res.data);_context.next=13;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);setError(_context.t0);setLoading(false);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function getProfileByID(_x){return _ref2.apply(this,arguments);};}();var getParticularUserAllPosts=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(userID){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"/api/posts/user/\".concat(userID));case 3:res=_context2.sent;setPosts(res.data);_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function getParticularUserAllPosts(_x2){return _ref3.apply(this,arguments);};}();useEffect(function(){getProfileByID(match.params.user_id);getParticularUserAllPosts(match.params.user_id);},[]);return loading&&profile===null?/*#__PURE__*/React.createElement(Spinner,null):profile!==null?/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){history.goBack();},className:\"btn btn-light my-1\"},\"Go Back\"),/*#__PURE__*/React.createElement(ProfileData,{profile:profile,posts:posts})):/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(ProfileNotFound,null));};export default withRouter(IndividualProfile);","map":{"version":3,"sources":["/home/shubham/Desktop/Socialmedia_MERN/client/src/components/profile/IndividualProfile.js"],"names":["React","useState","useEffect","Fragment","Link","withRouter","ProfileData","Spinner","ProfileNotFound","axios","IndividualProfile","match","history","profile","setProfile","loading","setLoading","error","setError","posts","setPosts","getProfileByID","userID","get","res","data","console","log","getParticularUserAllPosts","params","user_id","goBack"],"mappings":"yeAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,QAArC,KAAqD,OAArD,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,MAAwB,IAArBC,CAAAA,KAAqB,MAArBA,KAAqB,CAAdC,OAAc,MAAdA,OAAc,eAClBX,QAAQ,CAAC,IAAD,CADU,wCACzCY,OADyC,eAChCC,UADgC,8BAElBb,QAAQ,CAAC,IAAD,CAFU,yCAEzCc,OAFyC,eAEhCC,UAFgC,8BAGtBf,QAAQ,CAAC,IAAD,CAHc,yCAGzCgB,KAHyC,eAGlCC,QAHkC,8BAKtBjB,QAAQ,CAAC,EAAD,CALc,yCAKzCkB,KALyC,eAKlCC,QALkC,eAOhD,GAAMC,CAAAA,cAAc,2FAAG,iBAAOC,MAAP,gKAEDb,CAAAA,KAAK,CAACc,GAAN,6BAA+BD,MAA/B,EAFC,QAEbE,GAFa,eAGnBR,UAAU,CAAC,KAAD,CAAV,CACAF,UAAU,CAACU,GAAG,CAACC,IAAL,CAAV,CAJmB,+EAMnBC,OAAO,CAACC,GAAR,cACAT,QAAQ,aAAR,CACAF,UAAU,CAAC,KAAD,CAAV,CARmB,oEAAH,kBAAdK,CAAAA,cAAc,6CAApB,CAYA,GAAMO,CAAAA,yBAAyB,2FAAG,kBAAON,MAAP,sKAEZb,CAAAA,KAAK,CAACc,GAAN,2BAA6BD,MAA7B,EAFY,QAExBE,GAFwB,gBAG9BJ,QAAQ,CAACI,GAAG,CAACC,IAAL,CAAR,CAH8B,mFAK9BC,OAAO,CAACC,GAAR,eAL8B,sEAAH,kBAAzBC,CAAAA,yBAAyB,8CAA/B,CASA1B,SAAS,CAAC,UAAM,CACdmB,cAAc,CAACV,KAAK,CAACkB,MAAN,CAAaC,OAAd,CAAd,CACAF,yBAAyB,CAACjB,KAAK,CAACkB,MAAN,CAAaC,OAAd,CAAzB,CACD,CAHQ,CAGN,EAHM,CAAT,CAKA,MAAOf,CAAAA,OAAO,EAAIF,OAAO,GAAK,IAAvB,cACL,oBAAC,OAAD,MADK,CAEHA,OAAO,GAAK,IAAZ,cACF,oBAAC,QAAD,mBACE,oBAAC,IAAD,EACE,OAAO,CAAE,kBAAM,CACbD,OAAO,CAACmB,MAAR,GACD,CAHH,CAIE,SAAS,CAAC,oBAJZ,YADF,cAUE,oBAAC,WAAD,EAAa,OAAO,CAAElB,OAAtB,CAA+B,KAAK,CAAEM,KAAtC,EAVF,CADE,cAcF,oBAAC,QAAD,mBACE,oBAAC,eAAD,MADF,CAhBF,CAoBD,CArDD,CAuDA,cAAed,CAAAA,UAAU,CAACK,iBAAD,CAAzB","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport ProfileData from './ProfileData';\nimport Spinner from '../layout/Spinner';\nimport ProfileNotFound from './ProfileNotFound';\nimport axios from 'axios';\n\nconst IndividualProfile = ({ match, history }) => {\n  const [profile, setProfile] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const [posts, setPosts] = useState([]);\n\n  const getProfileByID = async (userID) => {\n    try {\n      const res = await axios.get(`/api/profile/user/${userID}`);\n      setLoading(false);\n      setProfile(res.data);\n    } catch (err) {\n      console.log(err);\n      setError(err);\n      setLoading(false);\n    }\n  };\n\n  const getParticularUserAllPosts = async (userID) => {\n    try {\n      const res = await axios.get(`/api/posts/user/${userID}`);\n      setPosts(res.data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    getProfileByID(match.params.user_id);\n    getParticularUserAllPosts(match.params.user_id);\n  }, []);\n\n  return loading && profile === null ? (\n    <Spinner />\n  ) : profile !== null ? (\n    <Fragment>\n      <Link\n        onClick={() => {\n          history.goBack();\n        }}\n        className='btn btn-light my-1'\n      >\n        Go Back\n      </Link>\n\n      <ProfileData profile={profile} posts={posts} />\n    </Fragment>\n  ) : (\n    <Fragment>\n      <ProfileNotFound />\n    </Fragment>\n  );\n};\n\nexport default withRouter(IndividualProfile);\n"]},"metadata":{},"sourceType":"module"}
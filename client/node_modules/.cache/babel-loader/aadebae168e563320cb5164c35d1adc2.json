{"ast":null,"code":"import _regeneratorRuntime from\"/home/shubham/Desktop/Socialmedia_MERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/shubham/Desktop/Socialmedia_MERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{GET_PROFILE,GET_REPOS,PROFILE_ERROR,UPDATE_PROFILE,CLEAR_PROFILE,ACCOUNT_DELETED,GET_PROFILES,UPDATE_IMAGE}from'./types';// import { setAlert } from './alert';\nimport swal from'sweetalert';// Get  profile of current user\nexport var getCurrentProfile=function getCurrentProfile(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/api/profile/me');case 3:res=_context.sent;dispatch({type:GET_PROFILE,payload:res.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:PROFILE_ERROR,payload:{msg:_context.t0.response.statusText,status:_context.t0.response.status}});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x){return _ref.apply(this,arguments);};}();};// Get all profiles\nexport var getAllProfiles=function getAllProfiles(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get('/api/profile');case 3:res=_context2.sent;dispatch({type:GET_PROFILES,payload:res.data});_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);dispatch({type:PROFILE_ERROR,payload:{msg:_context2.t0.response.statusText,status:_context2.t0.response.status}});case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};// Get profile by ID\nexport var getProfileByID=function getProfileByID(userID){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get(\"/api/profile/user/\".concat(userID));case 3:res=_context3.sent;dispatch({type:GET_PROFILE,payload:res.data});_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);dispatch({type:PROFILE_ERROR,payload:{msg:_context3.t0.response.statusText,status:_context3.t0.response.status}});// dispatch({ type: CLEAR_PROFILE });\ncase 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};// Get Github Repos\nexport var getGithubRepos=function getGithubRepos(username){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.get(\"/api/profile/github/\".concat(username));case 3:res=_context4.sent;dispatch({type:GET_REPOS,payload:res.data});_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);dispatch({type:PROFILE_ERROR,payload:{msg:_context4.t0.response.statusText,status:_context4.t0.response.status}});case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};// Create/Update Profile\nexport var createProfile=function createProfile(formData,history){var edit=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var config,res,title,errors;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;config={'Content-Type':'application/json'};_context5.next=4;return axios.post('/api/profile',formData,config);case 4:res=_context5.sent;dispatch({type:GET_PROFILE,payload:res.data});title=edit?'Profile Updated':'Profile Created';swal({title:title,icon:'success'});// dispatch(setAlert(edit ? 'Profile Updated' : 'Profile Created', 'success'));\nhistory.push('/profile');_context5.next=16;break;case 11:_context5.prev=11;_context5.t0=_context5[\"catch\"](0);errors=_context5.t0.response.data.errors;if(errors.length===2){swal({title:'Status & Skills are required!',icon:'warning'});}else{swal({title:errors[0].msg,icon:'warning'});// errors.forEach((error) => dispatch(setAlert(error.msg, 'danger')));\n}dispatch({type:PROFILE_ERROR,payload:{msg:_context5.t0.response.statusText,status:_context5.t0.response.status}});case 16:case\"end\":return _context5.stop();}}},_callee5,null,[[0,11]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};// Add Experience\nexport var addExperience=function addExperience(formData,history){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){var config,res,errors;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;config={'Content-Type':'application/json'};_context6.next=4;return axios.put('/api/profile/experience',formData,config);case 4:res=_context6.sent;dispatch({type:UPDATE_PROFILE,payload:res.data});swal({title:'Experience Added',icon:'success'});// dispatch(setAlert('Experience Added', 'success'));\nhistory.push('/add-experience');_context6.next=15;break;case 10:_context6.prev=10;_context6.t0=_context6[\"catch\"](0);// console.log(err)\nerrors=_context6.t0.response.data.errors;if(errors.length===3){swal({title:'Title, Company & From date are required!',icon:'warning'});}else{if(errors.length===2){swal({title:errors[0].msg,icon:'warning'});}else{swal({title:errors[0].msg,icon:'warning'});// errors.forEach((error) => dispatch(setAlert(error.msg, 'danger')));\n}}dispatch({type:PROFILE_ERROR,payload:{msg:_context6.t0.response.statusText,status:_context6.t0.response.status}});case 15:case\"end\":return _context6.stop();}}},_callee6,null,[[0,10]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();};// Add Education\nexport var addEducation=function addEducation(formData,history){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){var config,res,errors;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;config={'Content-Type':'application/json'};_context7.next=4;return axios.put('/api/profile/education',formData,config);case 4:res=_context7.sent;dispatch({type:UPDATE_PROFILE,payload:res.data});swal({title:'Education Added',icon:'success'});// dispatch(setAlert('Education Added', 'success'));\nhistory.push('/add-education');_context7.next=15;break;case 10:_context7.prev=10;_context7.t0=_context7[\"catch\"](0);errors=_context7.t0.response.data.errors;if(errors.length===4){swal({title:'School name, Degree, Field Of Study & From date are required!',icon:'warning'});}else{if(errors.length===3){swal({title:errors[0].msg,icon:'warning'});}else{if(errors.length===2){swal({title:errors[0].msg,icon:'warning'});}else{swal({title:errors[0].msg,icon:'warning'});// errors.forEach((error) => dispatch(setAlert(error.msg, 'danger')));\n}}}dispatch({type:PROFILE_ERROR,payload:{msg:_context7.t0.response.statusText,status:_context7.t0.response.status}});case 15:case\"end\":return _context7.stop();}}},_callee7,null,[[0,10]]);}));return function(_x7){return _ref7.apply(this,arguments);};}();};// Delete Experience\nexport var deleteExperience=function deleteExperience(id){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){var res;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return axios.delete(\"/api/profile/experience/\".concat(id));case 3:res=_context8.sent;dispatch({type:UPDATE_PROFILE,payload:res.data});swal({title:'Experience Removed',icon:'success'});// dispatch(setAlert('Experience Removed', 'success'));\n_context8.next=11;break;case 8:_context8.prev=8;_context8.t0=_context8[\"catch\"](0);dispatch({type:PROFILE_ERROR,payload:{msg:_context8.t0.response.statusText,status:_context8.t0.response.status}});case 11:case\"end\":return _context8.stop();}}},_callee8,null,[[0,8]]);}));return function(_x8){return _ref8.apply(this,arguments);};}();};// Delete Education\nexport var deleteEducation=function deleteEducation(id){return/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(dispatch){var res;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_context9.next=3;return axios.delete(\"/api/profile/education/\".concat(id));case 3:res=_context9.sent;dispatch({type:UPDATE_PROFILE,payload:res.data});swal({title:'Education Removed',icon:'success'});// dispatch(setAlert('Education Removed', 'success'));\n_context9.next=11;break;case 8:_context9.prev=8;_context9.t0=_context9[\"catch\"](0);dispatch({type:PROFILE_ERROR,payload:{msg:_context9.t0.response.statusText,status:_context9.t0.response.status}});case 11:case\"end\":return _context9.stop();}}},_callee9,null,[[0,8]]);}));return function(_x9){return _ref9.apply(this,arguments);};}();};// Delete Account & Profile\nexport var deleteAccount=function deleteAccount(){return/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(dispatch){return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.prev=0;_context10.next=3;return axios.delete('/api/profile');case 3:dispatch({type:CLEAR_PROFILE});dispatch({type:ACCOUNT_DELETED});swal({title:'Your Account has been permanently deleted',icon:'success'});// dispatch(setAlert('Your Account has been permanently deleted', 'success'));\n_context10.next=11;break;case 8:_context10.prev=8;_context10.t0=_context10[\"catch\"](0);dispatch({type:PROFILE_ERROR,payload:{msg:_context10.t0.response.statusText,status:_context10.t0.response.status}});case 11:case\"end\":return _context10.stop();}}},_callee10,null,[[0,8]]);}));return function(_x10){return _ref10.apply(this,arguments);};}();};// Clear Profile\nexport var clearProfile=function clearProfile(){return/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(dispatch){return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:dispatch({type:CLEAR_PROFILE});case 1:case\"end\":return _context11.stop();}}},_callee11);}));return function(_x11){return _ref11.apply(this,arguments);};}();};// Update profile image\nexport var updateProfileImage=function updateProfileImage(formData,history){return/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(dispatch){var res;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.prev=0;_context12.next=3;return axios.post('/api/users/image_upload',formData);case 3:res=_context12.sent;dispatch({type:UPDATE_IMAGE,payload:res.data});history.go(0);_context12.next=11;break;case 8:_context12.prev=8;_context12.t0=_context12[\"catch\"](0);dispatch({type:PROFILE_ERROR,payload:{msg:_context12.t0.response.statusText,status:_context12.t0.response.status}});case 11:case\"end\":return _context12.stop();}}},_callee12,null,[[0,8]]);}));return function(_x12){return _ref12.apply(this,arguments);};}();};","map":{"version":3,"sources":["/home/shubham/Desktop/Socialmedia_MERN/client/src/actions/profile.js"],"names":["axios","GET_PROFILE","GET_REPOS","PROFILE_ERROR","UPDATE_PROFILE","CLEAR_PROFILE","ACCOUNT_DELETED","GET_PROFILES","UPDATE_IMAGE","swal","getCurrentProfile","dispatch","get","res","type","payload","data","msg","response","statusText","status","getAllProfiles","getProfileByID","userID","getGithubRepos","username","createProfile","formData","history","edit","config","post","title","icon","push","errors","length","addExperience","put","addEducation","deleteExperience","id","delete","deleteEducation","deleteAccount","clearProfile","updateProfileImage","go"],"mappings":"qUAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACEC,WADF,CAEEC,SAFF,CAGEC,aAHF,CAIEC,cAJF,CAKEC,aALF,CAMEC,eANF,CAOEC,YAPF,CAQEC,YARF,KASO,SATP,CAUA;AACA,MAAOC,CAAAA,IAAP,KAAiB,YAAjB,CAEA;AACA,MAAO,IAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,kGAAM,iBAAOC,QAAP,gKAEjBX,CAAAA,KAAK,CAACY,GAAN,CAAU,iBAAV,CAFiB,QAE7BC,GAF6B,eAInCF,QAAQ,CAAC,CACPG,IAAI,CAAEb,WADC,CAEPc,OAAO,CAAEF,GAAG,CAACG,IAFN,CAAD,CAAR,CAJmC,+EASnCL,QAAQ,CAAC,CACPG,IAAI,CAAEX,aADC,CAEPY,OAAO,CAAE,CAAEE,GAAG,CAAE,YAAIC,QAAJ,CAAaC,UAApB,CAAgCC,MAAM,CAAE,YAAIF,QAAJ,CAAaE,MAArD,CAFF,CAAD,CAAR,CATmC,oEAAN,gEAA1B,CAgBP;AACA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,mGAAM,kBAAOV,QAAP,sKAEdX,CAAAA,KAAK,CAACY,GAAN,CAAU,cAAV,CAFc,QAE1BC,GAF0B,gBAIhCF,QAAQ,CAAC,CACPG,IAAI,CAAEP,YADC,CAEPQ,OAAO,CAAEF,GAAG,CAACG,IAFN,CAAD,CAAR,CAJgC,mFAShCL,QAAQ,CAAC,CACPG,IAAI,CAAEX,aADC,CAEPY,OAAO,CAAE,CAAEE,GAAG,CAAE,aAAIC,QAAJ,CAAaC,UAApB,CAAgCC,MAAM,CAAE,aAAIF,QAAJ,CAAaE,MAArD,CAFF,CAAD,CAAR,CATgC,sEAAN,kEAAvB,CAgBP;AACA,MAAO,IAAME,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,MAAD,kGAAY,kBAAOZ,QAAP,sKAEpBX,CAAAA,KAAK,CAACY,GAAN,6BAA+BW,MAA/B,EAFoB,QAEhCV,GAFgC,gBAItCF,QAAQ,CAAC,CACPG,IAAI,CAAEb,WADC,CAEPc,OAAO,CAAEF,GAAG,CAACG,IAFN,CAAD,CAAR,CAJsC,mFAStCL,QAAQ,CAAC,CACPG,IAAI,CAAEX,aADC,CAEPY,OAAO,CAAE,CAAEE,GAAG,CAAE,aAAIC,QAAJ,CAAaC,UAApB,CAAgCC,MAAM,CAAE,aAAIF,QAAJ,CAAaE,MAArD,CAFF,CAAD,CAAR,CAKA;AAdsC,sEAAZ,kEAAvB,CAkBP;AACA,MAAO,IAAMI,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,QAAD,kGAAc,kBAAOd,QAAP,sKAEtBX,CAAAA,KAAK,CAACY,GAAN,+BAAiCa,QAAjC,EAFsB,QAElCZ,GAFkC,gBAIxCF,QAAQ,CAAC,CACPG,IAAI,CAAEZ,SADC,CAEPa,OAAO,CAAEF,GAAG,CAACG,IAFN,CAAD,CAAR,CAJwC,mFASxCL,QAAQ,CAAC,CACPG,IAAI,CAAEX,aADC,CAEPY,OAAO,CAAE,CAAEE,GAAG,CAAE,aAAIC,QAAJ,CAAaC,UAApB,CAAgCC,MAAM,CAAE,aAAIF,QAAJ,CAAaE,MAArD,CAFF,CAAD,CAAR,CATwC,sEAAd,kEAAvB,CAgBP;AACA,MAAO,IAAMM,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,QAAD,CAAWC,OAAX,KAAoBC,CAAAA,IAApB,2DAA2B,KAA3B,iGAAqC,kBAChElB,QADgE,mKAIxDmB,MAJwD,CAI/C,CACb,eAAgB,kBADH,CAJ+C,wBAQ5C9B,CAAAA,KAAK,CAAC+B,IAAN,CAAW,cAAX,CAA2BJ,QAA3B,CAAqCG,MAArC,CAR4C,QAQxDjB,GARwD,gBAU9DF,QAAQ,CAAC,CACPG,IAAI,CAAEb,WADC,CAEPc,OAAO,CAAEF,GAAG,CAACG,IAFN,CAAD,CAAR,CAKMgB,KAfwD,CAehDH,IAAI,CAAG,iBAAH,CAAuB,iBAfqB,CAgB9DpB,IAAI,CAAC,CAAEuB,KAAK,CAALA,KAAF,CAASC,IAAI,CAAE,SAAf,CAAD,CAAJ,CAEA;AAEAL,OAAO,CAACM,IAAR,CAAa,UAAb,EApB8D,qFAsBxDC,MAtBwD,CAsB/C,aAAIjB,QAAJ,CAAaF,IAAb,CAAkBmB,MAtB6B,CAwB9D,GAAIA,MAAM,CAACC,MAAP,GAAkB,CAAtB,CAAyB,CACvB3B,IAAI,CAAC,CAAEuB,KAAK,CAAE,+BAAT,CAA0CC,IAAI,CAAE,SAAhD,CAAD,CAAJ,CACD,CAFD,IAEO,CACLxB,IAAI,CAAC,CAAEuB,KAAK,CAAEG,MAAM,CAAC,CAAD,CAAN,CAAUlB,GAAnB,CAAwBgB,IAAI,CAAE,SAA9B,CAAD,CAAJ,CACA;AACD,CAEDtB,QAAQ,CAAC,CACPG,IAAI,CAAEX,aADC,CAEPY,OAAO,CAAE,CAAEE,GAAG,CAAE,aAAIC,QAAJ,CAAaC,UAApB,CAAgCC,MAAM,CAAE,aAAIF,QAAJ,CAAaE,MAArD,CAFF,CAAD,CAAR,CA/B8D,uEAArC,kEAAtB,CAsCP;AACA,MAAO,IAAMiB,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACV,QAAD,CAAWC,OAAX,kGAAuB,kBAAOjB,QAAP,6JAE1CmB,MAF0C,CAEjC,CACb,eAAgB,kBADH,CAFiC,wBAM9B9B,CAAAA,KAAK,CAACsC,GAAN,CAAU,yBAAV,CAAqCX,QAArC,CAA+CG,MAA/C,CAN8B,QAM1CjB,GAN0C,gBAQhDF,QAAQ,CAAC,CACPG,IAAI,CAAEV,cADC,CAEPW,OAAO,CAAEF,GAAG,CAACG,IAFN,CAAD,CAAR,CAKAP,IAAI,CAAC,CAAEuB,KAAK,CAAE,kBAAT,CAA6BC,IAAI,CAAE,SAAnC,CAAD,CAAJ,CACA;AAEAL,OAAO,CAACM,IAAR,CAAa,iBAAb,EAhBgD,qFAkBhD;AACMC,MAnB0C,CAmBjC,aAAIjB,QAAJ,CAAaF,IAAb,CAAkBmB,MAnBe,CAqBhD,GAAIA,MAAM,CAACC,MAAP,GAAkB,CAAtB,CAAyB,CACvB3B,IAAI,CAAC,CACHuB,KAAK,CAAE,0CADJ,CAEHC,IAAI,CAAE,SAFH,CAAD,CAAJ,CAID,CALD,IAKO,CACL,GAAIE,MAAM,CAACC,MAAP,GAAkB,CAAtB,CAAyB,CACvB3B,IAAI,CAAC,CAAEuB,KAAK,CAAEG,MAAM,CAAC,CAAD,CAAN,CAAUlB,GAAnB,CAAwBgB,IAAI,CAAE,SAA9B,CAAD,CAAJ,CACD,CAFD,IAEO,CACLxB,IAAI,CAAC,CAAEuB,KAAK,CAAEG,MAAM,CAAC,CAAD,CAAN,CAAUlB,GAAnB,CAAwBgB,IAAI,CAAE,SAA9B,CAAD,CAAJ,CACA;AACD,CACF,CAEDtB,QAAQ,CAAC,CACPG,IAAI,CAAEX,aADC,CAEPY,OAAO,CAAE,CAAEE,GAAG,CAAE,aAAIC,QAAJ,CAAaC,UAApB,CAAgCC,MAAM,CAAE,aAAIF,QAAJ,CAAaE,MAArD,CAFF,CAAD,CAAR,CAnCgD,uEAAvB,kEAAtB,CA0CP;AACA,MAAO,IAAMmB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACZ,QAAD,CAAWC,OAAX,kGAAuB,kBAAOjB,QAAP,6JAEzCmB,MAFyC,CAEhC,CACb,eAAgB,kBADH,CAFgC,wBAM7B9B,CAAAA,KAAK,CAACsC,GAAN,CAAU,wBAAV,CAAoCX,QAApC,CAA8CG,MAA9C,CAN6B,QAMzCjB,GANyC,gBAQ/CF,QAAQ,CAAC,CACPG,IAAI,CAAEV,cADC,CAEPW,OAAO,CAAEF,GAAG,CAACG,IAFN,CAAD,CAAR,CAKAP,IAAI,CAAC,CAAEuB,KAAK,CAAE,iBAAT,CAA4BC,IAAI,CAAE,SAAlC,CAAD,CAAJ,CACA;AAEAL,OAAO,CAACM,IAAR,CAAa,gBAAb,EAhB+C,qFAkBzCC,MAlByC,CAkBhC,aAAIjB,QAAJ,CAAaF,IAAb,CAAkBmB,MAlBc,CAoB/C,GAAIA,MAAM,CAACC,MAAP,GAAkB,CAAtB,CAAyB,CACvB3B,IAAI,CAAC,CACHuB,KAAK,CAAE,+DADJ,CAEHC,IAAI,CAAE,SAFH,CAAD,CAAJ,CAID,CALD,IAKO,CACL,GAAIE,MAAM,CAACC,MAAP,GAAkB,CAAtB,CAAyB,CACvB3B,IAAI,CAAC,CAAEuB,KAAK,CAAEG,MAAM,CAAC,CAAD,CAAN,CAAUlB,GAAnB,CAAwBgB,IAAI,CAAE,SAA9B,CAAD,CAAJ,CACD,CAFD,IAEO,CACL,GAAIE,MAAM,CAACC,MAAP,GAAkB,CAAtB,CAAyB,CACvB3B,IAAI,CAAC,CAAEuB,KAAK,CAAEG,MAAM,CAAC,CAAD,CAAN,CAAUlB,GAAnB,CAAwBgB,IAAI,CAAE,SAA9B,CAAD,CAAJ,CACD,CAFD,IAEO,CACLxB,IAAI,CAAC,CAAEuB,KAAK,CAAEG,MAAM,CAAC,CAAD,CAAN,CAAUlB,GAAnB,CAAwBgB,IAAI,CAAE,SAA9B,CAAD,CAAJ,CACA;AACD,CACF,CACF,CAEDtB,QAAQ,CAAC,CACPG,IAAI,CAAEX,aADC,CAEPY,OAAO,CAAE,CAAEE,GAAG,CAAE,aAAIC,QAAJ,CAAaC,UAApB,CAAgCC,MAAM,CAAE,aAAIF,QAAJ,CAAaE,MAArD,CAFF,CAAD,CAAR,CAtC+C,uEAAvB,kEAArB,CA6CP;AACA,MAAO,IAAMoB,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,EAAD,kGAAQ,kBAAO9B,QAAP,sKAElBX,CAAAA,KAAK,CAAC0C,MAAN,mCAAwCD,EAAxC,EAFkB,QAE9B5B,GAF8B,gBAIpCF,QAAQ,CAAC,CACPG,IAAI,CAAEV,cADC,CAEPW,OAAO,CAAEF,GAAG,CAACG,IAFN,CAAD,CAAR,CAKAP,IAAI,CAAC,CAAEuB,KAAK,CAAE,oBAAT,CAA+BC,IAAI,CAAE,SAArC,CAAD,CAAJ,CAEA;AAXoC,mFAapCtB,QAAQ,CAAC,CACPG,IAAI,CAAEX,aADC,CAEPY,OAAO,CAAE,CAAEE,GAAG,CAAE,aAAIC,QAAJ,CAAaC,UAApB,CAAgCC,MAAM,CAAE,aAAIF,QAAJ,CAAaE,MAArD,CAFF,CAAD,CAAR,CAboC,sEAAR,kEAAzB,CAoBP;AACA,MAAO,IAAMuB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACF,EAAD,kGAAQ,kBAAO9B,QAAP,sKAEjBX,CAAAA,KAAK,CAAC0C,MAAN,kCAAuCD,EAAvC,EAFiB,QAE7B5B,GAF6B,gBAInCF,QAAQ,CAAC,CACPG,IAAI,CAAEV,cADC,CAEPW,OAAO,CAAEF,GAAG,CAACG,IAFN,CAAD,CAAR,CAKAP,IAAI,CAAC,CAAEuB,KAAK,CAAE,mBAAT,CAA8BC,IAAI,CAAE,SAApC,CAAD,CAAJ,CACA;AAVmC,mFAYnCtB,QAAQ,CAAC,CACPG,IAAI,CAAEX,aADC,CAEPY,OAAO,CAAE,CAAEE,GAAG,CAAE,aAAIC,QAAJ,CAAaC,UAApB,CAAgCC,MAAM,CAAE,aAAIF,QAAJ,CAAaE,MAArD,CAFF,CAAD,CAAR,CAZmC,sEAAR,kEAAxB,CAmBP;AACA,MAAO,IAAMwB,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,oGAAM,mBAAOjC,QAAP,oKAEzBX,CAAAA,KAAK,CAAC0C,MAAN,CAAa,cAAb,CAFyB,QAI/B/B,QAAQ,CAAC,CAAEG,IAAI,CAAET,aAAR,CAAD,CAAR,CACAM,QAAQ,CAAC,CAAEG,IAAI,CAAER,eAAR,CAAD,CAAR,CAEAG,IAAI,CAAC,CACHuB,KAAK,CAAE,2CADJ,CAEHC,IAAI,CAAE,SAFH,CAAD,CAAJ,CAIA;AAX+B,uFAa/BtB,QAAQ,CAAC,CACPG,IAAI,CAAEX,aADC,CAEPY,OAAO,CAAE,CAAEE,GAAG,CAAE,cAAIC,QAAJ,CAAaC,UAApB,CAAgCC,MAAM,CAAE,cAAIF,QAAJ,CAAaE,MAArD,CAFF,CAAD,CAAR,CAb+B,wEAAN,oEAAtB,CAoBP;AACA,MAAO,IAAMyB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,oGAAM,mBAAOlC,QAAP,0HAChCA,QAAQ,CAAC,CACPG,IAAI,CAAET,aADC,CAAD,CAAR,CADgC,0DAAN,oEAArB,CAMP;AACA,MAAO,IAAMyC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACnB,QAAD,CAAWC,OAAX,mGAAuB,mBAAOjB,QAAP,4KAEnCX,CAAAA,KAAK,CAAC+B,IAAN,CAAW,yBAAX,CAAsCJ,QAAtC,CAFmC,QAE/Cd,GAF+C,iBAIrDF,QAAQ,CAAC,CACPG,IAAI,CAAEN,YADC,CAEPO,OAAO,CAAEF,GAAG,CAACG,IAFN,CAAD,CAAR,CAKAY,OAAO,CAACmB,EAAR,CAAW,CAAX,EATqD,uFAWrDpC,QAAQ,CAAC,CACPG,IAAI,CAAEX,aADC,CAEPY,OAAO,CAAE,CAAEE,GAAG,CAAE,cAAIC,QAAJ,CAAaC,UAApB,CAAgCC,MAAM,CAAE,cAAIF,QAAJ,CAAaE,MAArD,CAFF,CAAD,CAAR,CAXqD,wEAAvB,oEAA3B","sourcesContent":["import axios from 'axios';\nimport {\n  GET_PROFILE,\n  GET_REPOS,\n  PROFILE_ERROR,\n  UPDATE_PROFILE,\n  CLEAR_PROFILE,\n  ACCOUNT_DELETED,\n  GET_PROFILES,\n  UPDATE_IMAGE,\n} from './types';\n// import { setAlert } from './alert';\nimport swal from 'sweetalert';\n\n// Get  profile of current user\nexport const getCurrentProfile = () => async (dispatch) => {\n  try {\n    const res = await axios.get('/api/profile/me');\n\n    dispatch({\n      type: GET_PROFILE,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// Get all profiles\nexport const getAllProfiles = () => async (dispatch) => {\n  try {\n    const res = await axios.get('/api/profile');\n\n    dispatch({\n      type: GET_PROFILES,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// Get profile by ID\nexport const getProfileByID = (userID) => async (dispatch) => {\n  try {\n    const res = await axios.get(`/api/profile/user/${userID}`);\n\n    dispatch({\n      type: GET_PROFILE,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n\n    // dispatch({ type: CLEAR_PROFILE });\n  }\n};\n\n// Get Github Repos\nexport const getGithubRepos = (username) => async (dispatch) => {\n  try {\n    const res = await axios.get(`/api/profile/github/${username}`);\n\n    dispatch({\n      type: GET_REPOS,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// Create/Update Profile\nexport const createProfile = (formData, history, edit = false) => async (\n  dispatch\n) => {\n  try {\n    const config = {\n      'Content-Type': 'application/json',\n    };\n\n    const res = await axios.post('/api/profile', formData, config);\n\n    dispatch({\n      type: GET_PROFILE,\n      payload: res.data,\n    });\n\n    const title = edit ? 'Profile Updated' : 'Profile Created';\n    swal({ title, icon: 'success' });\n\n    // dispatch(setAlert(edit ? 'Profile Updated' : 'Profile Created', 'success'));\n\n    history.push('/profile');\n  } catch (err) {\n    const errors = err.response.data.errors;\n\n    if (errors.length === 2) {\n      swal({ title: 'Status & Skills are required!', icon: 'warning' });\n    } else {\n      swal({ title: errors[0].msg, icon: 'warning' });\n      // errors.forEach((error) => dispatch(setAlert(error.msg, 'danger')));\n    }\n\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// Add Experience\nexport const addExperience = (formData, history) => async (dispatch) => {\n  try {\n    const config = {\n      'Content-Type': 'application/json',\n    };\n\n    const res = await axios.put('/api/profile/experience', formData, config);\n\n    dispatch({\n      type: UPDATE_PROFILE,\n      payload: res.data,\n    });\n\n    swal({ title: 'Experience Added', icon: 'success' });\n    // dispatch(setAlert('Experience Added', 'success'));\n\n    history.push('/add-experience');\n  } catch (err) {\n    // console.log(err)\n    const errors = err.response.data.errors;\n\n    if (errors.length === 3) {\n      swal({\n        title: 'Title, Company & From date are required!',\n        icon: 'warning',\n      });\n    } else {\n      if (errors.length === 2) {\n        swal({ title: errors[0].msg, icon: 'warning' });\n      } else {\n        swal({ title: errors[0].msg, icon: 'warning' });\n        // errors.forEach((error) => dispatch(setAlert(error.msg, 'danger')));\n      }\n    }\n\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// Add Education\nexport const addEducation = (formData, history) => async (dispatch) => {\n  try {\n    const config = {\n      'Content-Type': 'application/json',\n    };\n\n    const res = await axios.put('/api/profile/education', formData, config);\n\n    dispatch({\n      type: UPDATE_PROFILE,\n      payload: res.data,\n    });\n\n    swal({ title: 'Education Added', icon: 'success' });\n    // dispatch(setAlert('Education Added', 'success'));\n\n    history.push('/add-education');\n  } catch (err) {\n    const errors = err.response.data.errors;\n\n    if (errors.length === 4) {\n      swal({\n        title: 'School name, Degree, Field Of Study & From date are required!',\n        icon: 'warning',\n      });\n    } else {\n      if (errors.length === 3) {\n        swal({ title: errors[0].msg, icon: 'warning' });\n      } else {\n        if (errors.length === 2) {\n          swal({ title: errors[0].msg, icon: 'warning' });\n        } else {\n          swal({ title: errors[0].msg, icon: 'warning' });\n          // errors.forEach((error) => dispatch(setAlert(error.msg, 'danger')));\n        }\n      }\n    }\n\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// Delete Experience\nexport const deleteExperience = (id) => async (dispatch) => {\n  try {\n    const res = await axios.delete(`/api/profile/experience/${id}`);\n\n    dispatch({\n      type: UPDATE_PROFILE,\n      payload: res.data,\n    });\n\n    swal({ title: 'Experience Removed', icon: 'success' });\n\n    // dispatch(setAlert('Experience Removed', 'success'));\n  } catch (err) {\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// Delete Education\nexport const deleteEducation = (id) => async (dispatch) => {\n  try {\n    const res = await axios.delete(`/api/profile/education/${id}`);\n\n    dispatch({\n      type: UPDATE_PROFILE,\n      payload: res.data,\n    });\n\n    swal({ title: 'Education Removed', icon: 'success' });\n    // dispatch(setAlert('Education Removed', 'success'));\n  } catch (err) {\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// Delete Account & Profile\nexport const deleteAccount = () => async (dispatch) => {\n  try {\n    await axios.delete('/api/profile');\n\n    dispatch({ type: CLEAR_PROFILE });\n    dispatch({ type: ACCOUNT_DELETED });\n\n    swal({\n      title: 'Your Account has been permanently deleted',\n      icon: 'success',\n    });\n    // dispatch(setAlert('Your Account has been permanently deleted', 'success'));\n  } catch (err) {\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// Clear Profile\nexport const clearProfile = () => async (dispatch) => {\n  dispatch({\n    type: CLEAR_PROFILE,\n  });\n};\n\n// Update profile image\nexport const updateProfileImage = (formData, history) => async (dispatch) => {\n  try {\n    const res = await axios.post('/api/users/image_upload', formData);\n\n    dispatch({\n      type: UPDATE_IMAGE,\n      payload: res.data,\n    });\n\n    history.go(0);\n  } catch (err) {\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}
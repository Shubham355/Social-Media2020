{"ast":null,"code":"import _regeneratorRuntime from\"/home/shubham/Desktop/Socialmedia_MERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/shubham/Desktop/Socialmedia_MERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/shubham/Desktop/Socialmedia_MERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,Fragment}from'react';import axios from'axios';import{Link,withRouter}from'react-router-dom';import Spinner from'../layout/Spinner';var DisplayIndividualAllPosts=function DisplayIndividualAllPosts(_ref){var match=_ref.match,history=_ref.history;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var getParticularUserAllPosts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(userID){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/posts/user/\".concat(userID));case 2:res=_context.sent;setPosts(res.data);setLoading(false);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getParticularUserAllPosts(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){getParticularUserAllPosts(match.params.user_id);},getParticularUserAllPosts,match);return loading?/*#__PURE__*/React.createElement(Spinner,null):/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){history.goBack();},className:\"btn btn-light my-1\"},\"Go Back\"),/*#__PURE__*/React.createElement(\"div\",{className:\"profile-posts\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"text-primary my-1\"},\"All Posts of \",posts[0].name),posts.length>0&&/*#__PURE__*/React.createElement(Fragment,null,posts.map(function(post){return/*#__PURE__*/React.createElement(\"div\",{key:post._id,className:\"p_posts bg-white p-1 my-1\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,post.text)),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",{className:\"badge badge-light\"},\"Like: \",post.likes.length),/*#__PURE__*/React.createElement(\"li\",{className:\"badge badge-light\"},\"Dislike: \",post.dislikes.length),/*#__PURE__*/React.createElement(\"li\",{className:\"badge badge-light\"},/*#__PURE__*/React.createElement(Link,{to:\"/posts/\".concat(post._id)},\"Comments: \",post.comments.length)))));}))));};export default withRouter(DisplayIndividualAllPosts);","map":{"version":3,"sources":["/home/shubham/Desktop/Socialmedia_MERN/client/src/components/posts/DisplayIndividualAllPosts.js"],"names":["React","useEffect","useState","Fragment","axios","Link","withRouter","Spinner","DisplayIndividualAllPosts","match","history","posts","setPosts","loading","setLoading","getParticularUserAllPosts","userID","get","res","data","params","user_id","goBack","name","length","map","post","_id","text","likes","dislikes","comments"],"mappings":"yeAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,QAArC,KAAqD,OAArD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CAEA,GAAMC,CAAAA,yBAAyB,CAAG,QAA5BA,CAAAA,yBAA4B,MAAwB,IAArBC,CAAAA,KAAqB,MAArBA,KAAqB,CAAdC,OAAc,MAAdA,OAAc,eAC9BR,QAAQ,CAAC,EAAD,CADsB,wCACjDS,KADiD,eAC1CC,QAD0C,8BAE1BV,QAAQ,CAAC,IAAD,CAFkB,yCAEjDW,OAFiD,eAExCC,UAFwC,eAIxD,GAAMC,CAAAA,yBAAyB,2FAAG,iBAAOC,MAAP,gJACdZ,CAAAA,KAAK,CAACa,GAAN,2BAA6BD,MAA7B,EADc,QAC1BE,GAD0B,eAGhCN,QAAQ,CAACM,GAAG,CAACC,IAAL,CAAR,CACAL,UAAU,CAAC,KAAD,CAAV,CAJgC,sDAAH,kBAAzBC,CAAAA,yBAAyB,6CAA/B,CAOAd,SAAS,CACP,UAAM,CACJc,yBAAyB,CAACN,KAAK,CAACW,MAAN,CAAaC,OAAd,CAAzB,CACD,CAHM,CAIPN,yBAJO,CAKPN,KALO,CAAT,CAQA,MAAOI,CAAAA,OAAO,cACZ,oBAAC,OAAD,MADY,cAGZ,oBAAC,QAAD,mBACE,oBAAC,IAAD,EACE,OAAO,CAAE,kBAAM,CACbH,OAAO,CAACY,MAAR,GACD,CAHH,CAIE,SAAS,CAAC,oBAJZ,YADF,cAUE,2BAAK,SAAS,CAAC,eAAf,eACE,0BAAI,SAAS,CAAC,mBAAd,kBAAgDX,KAAK,CAAC,CAAD,CAAL,CAASY,IAAzD,CADF,CAEGZ,KAAK,CAACa,MAAN,CAAe,CAAf,eACC,oBAAC,QAAD,MACGb,KAAK,CAACc,GAAN,CAAU,SAACC,IAAD,qBACT,2BAAK,GAAG,CAAEA,IAAI,CAACC,GAAf,CAAoB,SAAS,CAAC,2BAA9B,eACE,4CACE,6BAAID,IAAI,CAACE,IAAT,CADF,CADF,cAIE,4CACE,2CACE,0BAAI,SAAS,CAAC,mBAAd,WACSF,IAAI,CAACG,KAAL,CAAWL,MADpB,CADF,cAIE,0BAAI,SAAS,CAAC,mBAAd,cACYE,IAAI,CAACI,QAAL,CAAcN,MAD1B,CAJF,cAOE,0BAAI,SAAS,CAAC,mBAAd,eACE,oBAAC,IAAD,EAAM,EAAE,kBAAYE,IAAI,CAACC,GAAjB,CAAR,eACaD,IAAI,CAACK,QAAL,CAAcP,MAD3B,CADF,CAPF,CADF,CAJF,CADS,EAAV,CADH,CAHJ,CAVF,CAHF,CA4CD,CA/DD,CAiEA,cAAelB,CAAAA,UAAU,CAACE,yBAAD,CAAzB","sourcesContent":["import React, { useEffect, useState, Fragment } from 'react';\nimport axios from 'axios';\nimport { Link, withRouter } from 'react-router-dom';\nimport Spinner from '../layout/Spinner';\n\nconst DisplayIndividualAllPosts = ({ match, history }) => {\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const getParticularUserAllPosts = async (userID) => {\n    const res = await axios.get(`/api/posts/user/${userID}`);\n\n    setPosts(res.data);\n    setLoading(false);\n  };\n\n  useEffect(\n    () => {\n      getParticularUserAllPosts(match.params.user_id);\n    },\n    getParticularUserAllPosts,\n    match\n  );\n\n  return loading ? (\n    <Spinner />\n  ) : (\n    <Fragment>\n      <Link\n        onClick={() => {\n          history.goBack();\n        }}\n        className='btn btn-light my-1'\n      >\n        Go Back\n      </Link>\n\n      <div className='profile-posts'>\n        <h2 className='text-primary my-1'>All Posts of {posts[0].name}</h2>\n        {posts.length > 0 && (\n          <Fragment>\n            {posts.map((post) => (\n              <div key={post._id} className='p_posts bg-white p-1 my-1'>\n                <div>\n                  <p>{post.text}</p>\n                </div>\n                <div>\n                  <ul>\n                    <li className='badge badge-light'>\n                      Like: {post.likes.length}\n                    </li>\n                    <li className='badge badge-light'>\n                      Dislike: {post.dislikes.length}\n                    </li>\n                    <li className='badge badge-light'>\n                      <Link to={`/posts/${post._id}`}>\n                        Comments: {post.comments.length}\n                      </Link>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            ))}\n          </Fragment>\n        )}\n      </div>\n    </Fragment>\n  );\n};\n\nexport default withRouter(DisplayIndividualAllPosts);\n"]},"metadata":{},"sourceType":"module"}